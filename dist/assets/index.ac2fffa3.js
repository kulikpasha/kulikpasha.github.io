(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))f(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const h of n.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&f(h)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function f(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}})();function r(e,l,i){let f=1;e.field[e.frstclick.x][e.frstclick.y].t="&nbsp;";for(let s=l-1;s>-1;s--)if(e.field[s][i].t!="&nbsp;"){e.field[s][i].p!=e.frstclick.p&&(e.field[s][i].t=="R"||e.field[s][i].t=="Q")&&(f=0);break}for(let s=l+1;s<8;s++){e.field[s][i].t!="&nbsp;"&&e.field[s][i].p!=e.frstclick.p&&(e.field[s][i].t=="R"||e.field[s][i].t=="Q")&&(f=0);break}for(let s=i-1;s>-1;s--)if(e.field[l][s].t!="&nbsp;"){e.field[l][s].p!=e.frstclick.p&&(e.field[l][s].t=="R"||e.field[l][s].t=="Q")&&(f=0);break}for(let s=i+1;s<8;s++)if(e.field[l][s].t!="&nbsp;"){e.field[l][s].p!=e.frstclick.p&&(e.field[l][s].t=="R"||e.field[l][s].t=="Q")&&(f=0);break}for(let s=1;s<9;s++)if(l-s>-1&&i-s>-1&&e.field[l-s][i-s].t!="&nbsp;"){e.field[l-s][i-s].p!=e.frstclick.p&&(e.field[l-s][i-s].t=="B"||e.field[l-s][i-s].t=="Q")&&(f=0);break}for(let s=1;s<9;s++)if(l-s>-1&&i+s<8&&e.field[l-s][i+s].t!="&nbsp;"){e.field[l-s][i+s].p!=e.frstclick.p&&(e.field[l-s][i+s].t=="B"||e.field[l-s][i+s].t=="Q")&&(f=0);break}for(let s=1;s<9;s++)if(l+s<8&&i-s>-1&&e.field[l+s][i-s].t!="&nbsp;"){e.field[l+s][i-s].p!=e.frstclick.p&&(e.field[l+s][i-s].t=="B"||e.field[l+s][i-s].t=="Q")&&(f=0);break}for(let s=1;s<9;s++)if(l+s<8&&i+s<8&&e.field[l+s][i+s].t!="&nbsp;"){e.field[l+s][i+s].p!=e.frstclick.p&&(e.field[l+s][i+s].t=="B"||e.field[l+s][i+s].t=="Q")&&(f=0);break}for(let s=0;s<8;s++)e.horseturns[s][0]+l<8&&e.horseturns[s][1]+i<8&&e.horseturns[s][0]+l>-1&&e.horseturns[s][1]+i>-1&&e.field[l+e.horseturns[s][0]][i+e.horseturns[s][1]].t=="H"&&e.field[l+e.horseturns[s][0]][i+e.horseturns[s][1]].p!=e.frstclick.p&&(f=0);e.frstclick.p=="-1"?(l+1<8&&i+1<8&&e.field[l+1][i+1].t=="P"&&e.field[l+1][i+1].p=="1"&&(f=0),l+1<8&&i-1>-1&&e.field[l+1][i-1].t=="P"&&e.field[l+1][i-1].p=="1"&&(f=0)):(l-1>-1&&i+1<8&&e.field[l-1][i+1].t=="P"&&e.field[l-1][i+1].p=="-1"&&(f=0),l-1>-1&&i-1>-1&&e.field[l-1][i-1].t=="P"&&e.field[l-1][i-1].p=="-1"&&(f=0));for(let s=-1;s<2;s++)for(let n=-1;n<2;n++)l+s<8&&l+s>-1&&i+n<8&&i+n>-1&&e.field[l+s][i+n].t=="K"&&e.field[l+s][i+n].p!=e.frstclick.p&&(f=0);return e.field[e.frstclick.x][e.frstclick.y].t="K",f==1}function o(e,l,i){if(e.field[l][i].p===1){if(e.field[l][i].t==="K")return'<img src="/pic/Wking.png">';if(e.field[l][i].t==="R")return'<img src="/pic/Wrook.png">';if(e.field[l][i].t==="B")return'<img src="/pic/Wbishop.png">';if(e.field[l][i].t==="H")return'<img src="/pic/Whorse.png">';if(e.field[l][i].t==="P")return'<img src="/pic/Wpawn.png">';if(e.field[l][i].t==="Q")return'<img src="/pic/Wqueen.png">'}else if(e.field[l][i].p===-1){if(e.field[l][i].t==="K")return'<img src="/pic/Bking.png">';if(e.field[l][i].t==="R")return'<img src="/pic/Brook.png">';if(e.field[l][i].t==="B")return'<img src="/pic/Bbishop.png">';if(e.field[l][i].t==="H")return'<img src="/pic/Bhorse.png">';if(e.field[l][i].t==="P")return'<img src="/pic/Bpawn.png">';if(e.field[l][i].t==="Q")return'<img src="/pic/Bqueen.png">'}else return"&nbsp;"}function b(e){e.turn==1&&e.field[7][4].m==0&&r(e,7,4)&&(e.field[7][7].m==0&&e.field[7][6].t=="&nbsp;"&&e.field[7][5].t=="&nbsp;"&&r(e,7,6)&&r(e,7,5)&&(e.field[7][7].h=4),e.field[7][0].m==0&&e.field[7][1].t=="&nbsp;"&&e.field[7][2].t=="&nbsp;"&&e.field[7][3].t=="&nbsp;"&&r(e,7,1)&&r(e,7,2)&&r(e,7,3)&&(e.field[7][0].h=4)),e.turn==-1&&e.field[0][4].m==0&&r(e,0,4)&&(e.field[0][7].m==0&&e.field[0][6].t=="&nbsp;"&&e.field[0][5].t=="&nbsp;"&&r(e,0,6)&&r(e,0,5)&&(e.field[0][7].h=4),e.field[0][0].m==0&&e.field[0][1].t=="&nbsp;"&&e.field[0][2].t=="&nbsp;"&&e.field[0][3].t=="&nbsp;"&&r(e,0,1)&&r(e,0,2)&&r(e,0,3)&&(e.field[0][0].h=4))}function u(e,l){e.turn==1&&l==7&&(e.field[7][6]={p:1,t:"K",h:0},e.field[7][5]={p:1,t:"R",h:0},e.field[7][4]={t:"&nbsp;",h:0},e.field[7][7]={t:"&nbsp;",h:0}),e.turn==-1&&l==7&&(e.field[0][6]={p:-1,t:"K",h:0},e.field[0][5]={p:-1,t:"R",h:0},e.field[0][4]={t:"&nbsp;",h:0},e.field[0][7]={t:"&nbsp;",h:0}),e.turn==1&&l==0&&(e.field[7][2]={p:1,t:"K",h:0},e.field[7][3]={p:1,t:"R",h:0},e.field[7][4]={t:"&nbsp;",h:0},e.field[7][0]={t:"&nbsp;",h:0}),e.turn==-1&&l==0&&(e.field[0][2]={p:-1,t:"K",h:0},e.field[0][3]={p:-1,t:"R",h:0},e.field[0][4]={t:"&nbsp;",h:0},e.field[0][0]={t:"&nbsp;",h:0})}function k(e,l,i){for(let f=-1;f<2;f++)for(let s=-1;s<2;s++)l+f<8&&l+f>-1&&i+s<8&&i+s>-1&&r(e,l+f,i+s)&&(e.field[l+f][i+s].t=="&nbsp;"?e.field[l+f][i+s].h=1:e.field[l+f][i+s].p!=e.frstclick.p&&r(e,l+f,i+s)&&(e.field[l+f][i+s].h=3));b(e)}function a(e,l,i){for(let f=l-1;f>-1;f--)if(e.field[f][i].t=="&nbsp;")e.field[f][i].h=1;else if(e.field[f][i].t!="&nbsp;"){e.field[f][i].p!=e.frstclick.p&&(e.field[f][i].h=3);break}for(let f=l+1;f<8;f++)if(e.field[f][i].t=="&nbsp;")e.field[f][i].h=1;else if(e.field[f][i].t!="&nbsp;"){e.field[f][i].p!=e.frstclick.p&&(e.field[f][i].h=3);break}for(let f=i-1;f>-1;f--)if(e.field[l][f].t=="&nbsp;")e.field[l][f].h=1;else if(e.field[l][f].t!="&nbsp;"){e.field[l][f].p!=e.frstclick.p&&(e.field[l][f].h=3);break}for(let f=i+1;f<8;f++)if(e.field[l][f].t=="&nbsp;")e.field[l][f].h=1;else if(e.field[l][f].t!="&nbsp;"){e.field[l][f].p!=e.frstclick.p&&(e.field[l][f].h=3);break}}function m(e,l,i){l-1>-1&&e.field[l-1][i].t=="&nbsp;"&&(e.field[l-1][i].h=1),l-1>-1&&i-1>-1&&e.field[l-1][i-1].t!="&nbsp;"&&e.field[l-1][i-1].p!=e.frstclick.p&&(e.field[l-1][i-1].h=3),l-1>-1&&i+1<8&&e.field[l-1][i+1].t!="&nbsp;"&&e.field[l-1][i+1].p!=e.frstclick.p&&(e.field[l-1][i+1].h=3),l==6&&e.field[l-1][i].t=="&nbsp;"&&e.field[l-2][i].t=="&nbsp;"&&(e.field[l-2][i].h=1)}function g(e,l,i){l+1<8&&e.field[l+1][i].t=="&nbsp;"&&(e.field[l+1][i].h=1),l+1<8&&i+1<8&&e.field[l+1][i+1].t!="&nbsp;"&&e.field[l+1][i+1].p!=e.frstclick.p&&(e.field[l+1][i+1].h=3),l+1<8&&i-1>-1&&e.field[l+1][i-1].t!="&nbsp;"&&e.field[l+1][i-1].p!=e.frstclick.p&&(e.field[l+1][i-1].h=3),l==1&&e.field[l+1][i].t=="&nbsp;"&&e.field[l+2][i].t=="&nbsp;"&&(e.field[l+2][i].h=1)}function y(e,l,i){for(let f=0;f<8;f++)if(l-f-1>-1&&i-f-1>-1){if(e.field[l-f-1][i-f-1].t=="&nbsp;")e.field[l-f-1][i-f-1].h=1;else if(e.field[l-f-1][i-f-1]!="&nbsp;"){e.field[l-f-1][i-f-1].p!=e.frstclick.p&&(e.field[l-f-1][i-f-1].h=3);break}}for(let f=0;f<8;f++)if(l+f+1<8&&i-f-1>-1){if(e.field[l+f+1][i-f-1].t=="&nbsp;")e.field[l+f+1][i-f-1].h=1;else if(e.field[l+f+1][i-f-1]!="&nbsp;"){e.field[l+f+1][i-f-1].p!=e.frstclick.p&&(e.field[l+f+1][i-f-1].h=3);break}}for(let f=0;f<8;f++)if(l+f+1<8&&i+f+1<8){if(e.field[l+f+1][i+f+1].t=="&nbsp;")e.field[l+f+1][i+f+1].h=1;else if(e.field[l+f+1][i+f+1]!="&nbsp;"){e.field[l+f+1][i+f+1].p!=e.frstclick.p&&(e.field[l+f+1][i+f+1].h=3);break}}for(let f=0;f<8;f++)if(l-f-1>-1&&i+f+1<8){if(e.field[l-f-1][i+f+1].t=="&nbsp;")e.field[l-f-1][i+f+1].h=1;else if(e.field[l-f-1][i+f+1]!="&nbsp;"){e.field[l-f-1][i+f+1].p!=e.frstclick.p&&(e.field[l-f-1][i+f+1].h=3);break}}}function P(e,l,i){for(let f=0;f<8;f++)e.horseturns[f][0]+l<8&&e.horseturns[f][1]+i<8&&e.horseturns[f][0]+l>-1&&e.horseturns[f][1]+i>-1&&(e.field[l+e.horseturns[f][0]][i+e.horseturns[f][1]].t=="&nbsp;"?e.field[l+e.horseturns[f][0]][i+e.horseturns[f][1]].h=1:e.field[l+e.horseturns[f][0]][i+e.horseturns[f][1]].p!=e.frstclick.p&&(e.field[l+e.horseturns[f][0]][i+e.horseturns[f][1]].h=3))}function w(e,l,i){for(let f=0;f<8;f++)if(l-f-1>-1&&i-f-1>-1){if(e.field[l-f-1][i-f-1].t=="&nbsp;")e.field[l-f-1][i-f-1].h=1;else if(e.field[l-f-1][i-f-1]!="&nbsp;"){e.field[l-f-1][i-f-1].p!=e.frstclick.p&&(e.field[l-f-1][i-f-1].h=3);break}}for(let f=0;f<8;f++)if(l+f+1<8&&i-f-1>-1){if(e.field[l+f+1][i-f-1].t=="&nbsp;")e.field[l+f+1][i-f-1].h=1;else if(e.field[l+f+1][i-f-1]!="&nbsp;"){e.field[l+f+1][i-f-1].p!=e.frstclick.p&&(e.field[l+f+1][i-f-1].h=3);break}}for(let f=0;f<8;f++)if(l+f+1<8&&i+f+1<8){if(e.field[l+f+1][i+f+1].t=="&nbsp;")e.field[l+f+1][i+f+1].h=1;else if(e.field[l+f+1][i+f+1]!="&nbsp;"){e.field[l+f+1][i+f+1].p!=e.frstclick.p&&(e.field[l+f+1][i+f+1].h=3);break}}for(let f=0;f<8;f++)if(l-f-1>-1&&i+f+1<8){if(e.field[l-f-1][i+f+1].t=="&nbsp;")e.field[l-f-1][i+f+1].h=1;else if(e.field[l-f-1][i+f+1]!="&nbsp;"){e.field[l-f-1][i+f+1].p!=e.frstclick.p&&(e.field[l-f-1][i+f+1].h=3);break}}for(let f=l-1;f>-1;f--)if(e.field[f][i].t=="&nbsp;")e.field[f][i].h=1;else if(e.field[f][i].t!="&nbsp;"){e.field[f][i].p!=e.frstclick.p&&(e.field[f][i].h=3);break}for(let f=l+1;f<8;f++)if(e.field[f][i].t=="&nbsp;")e.field[f][i].h=1;else if(e.field[f][i].t!="&nbsp;"){e.field[f][i].p!=e.frstclick.p&&(e.field[f][i].h=3);break}for(let f=i-1;f>-1;f--)if(e.field[l][f].t=="&nbsp;")e.field[l][f].h=1;else if(e.field[l][f].t!="&nbsp;"){e.field[l][f].p!=e.frstclick.p&&(e.field[l][f].h=3);break}for(let f=i+1;f<8;f++)if(e.field[l][f].t=="&nbsp;")e.field[l][f].h=1;else if(e.field[l][f].t!="&nbsp;"){e.field[l][f].p!=e.frstclick.p&&(e.field[l][f].h=3);break}}const p=document.createElement("table");p.cellPadding=0;p.cellSpacing=0;const d={turn:1,field:[[{p:-1,t:"R",h:0,m:0},{p:-1,t:"H",h:0},{p:-1,t:"B",h:0},{p:-1,t:"Q",h:0},{p:-1,t:"K",h:0,m:0},{p:-1,t:"B",h:0},{p:-1,t:"H",h:0},{p:-1,t:"R",h:0,m:0}],[{p:-1,t:"P",h:0},{p:-1,t:"P",h:0},{p:-1,t:"P",h:0},{p:-1,t:"P",h:0},{p:-1,t:"P",h:0},{p:-1,t:"P",h:0},{p:-1,t:"P",h:0},{p:-1,t:"P",h:0}],[{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0}],[{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0}],[{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0}],[{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0}],[{p:1,t:"P",h:0},{p:1,t:"P",h:0},{p:1,t:"P",h:0},{p:1,t:"P",h:0},{p:1,t:"P",h:0},{p:1,t:"P",h:0},{p:1,t:"P",h:0},{p:1,t:"P",h:0}],[{p:1,t:"R",h:0,m:0},{p:1,t:"H",h:0},{p:1,t:"B",h:0},{p:1,t:"Q",h:0},{p:1,t:"K",h:0,m:0},{p:1,t:"B",h:0},{p:1,t:"H",h:0},{p:1,t:"R",h:0,m:0}]],frstclick:{x:-1,y:-1,t:0,p:0},horseturns:[[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]]};function t(){for(let e=0;e<8;e++){const l=document.createElement("tr");for(let i=0;i<8;i++){const f=document.createElement("td");e%2!=i%2&&d.field[e][i].h==0?f.classList.add("black"):e%2!=i%2&&d.field[e][i].h==1&&f.classList.add("hoveredblack"),e%2==i%2&&d.field[e][i].h==1&&f.classList.add("hoveredwhite"),d.field[e][i].h==2&&f.classList.add("clicked"),d.field[e][i].h==3&&f.classList.add("attack"),d.field[e][i].h==4&&f.classList.add("castles"),f.innerHTML=o(d,e,i),d.field[e][i].p==1&&f.classList.add("playerWhite"),d.field[e][i].p==-1&&f.classList.add("playerBlack"),f.onclick=()=>{B(e,i)},l.appendChild(f)}p.appendChild(l)}document.body.appendChild(p),window.innerWidth>=window.innerHeight?(p.style.width=document.documentElement.clientHeight,p.style.height=document.documentElement.clientHeight):window.innerHeight>window.innerWidth&&(p.style.width=document.documentElement.clientWidth,p.style.height=document.documentElement.clientWidth)}function B(e,l){d.frstclick.t==0&&d.field[e][l].t!="&nbsp;"&&d.field[e][l].p==d.turn?(d.frstclick={x:e,y:l,t:d.field[e][l].t,p:d.field[e][l].p,m:d.field[e][l].m},d.field[e][l].h=2,d.field[e][l].t=="K"?k(d,e,l):d.field[e][l].t=="Q"?w(d,e,l):d.field[e][l].t=="R"?a(d,e,l):d.field[e][l].t=="B"?y(d,e,l):d.field[e][l].t=="P"&&d.field[e][l].p=="1"?m(d,e,l):d.field[e][l].t=="P"&&d.field[e][l].p=="-1"?g(d,e,l):d.field[e][l].t=="H"&&P(d,e,l)):L(e,l),p.innerHTML="",t()}function L(e,l){if(d.field[e][l].h==1||d.field[e][l].h==3)d.frstclick.m===0&&(d.field[d.frstclick.x][d.frstclick.y].m=1),d.field[e][l]=d.field[d.frstclick.x][d.frstclick.y],d.field[d.frstclick.x][d.frstclick.y]={t:"&nbsp;"},d.turn=d.turn*-1;else if(d.field[e][l].h==4)u(d,l),d.frstclick.m===0&&(d.field[d.frstclick.x][d.frstclick.y].m=1),d.turn=d.turn*-1;else for(let i=0;i<8;i++)for(let f=0;f<8;f++)d.field[i][f].h=0;d.frstclick={x:-1,y:-1,t:0,p:0};for(let i=0;i<8;i++)for(let f=0;f<8;f++)d.field[i][f].h=0}t();
