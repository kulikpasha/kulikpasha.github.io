(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))f(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const n of d.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&f(n)}).observe(document,{childList:!0,subtree:!0});function s(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerpolicy&&(d.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?d.credentials="include":i.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function f(i){if(i.ep)return;i.ep=!0;const d=s(i);fetch(i.href,d)}})();function t(e,l,s){let f=1;e.field[e.frstclick.x][e.frstclick.y].t="&nbsp;";for(let i=l-1;i>-1;i--)if(e.field[i][s].t!="&nbsp;"){e.field[i][s].p!=e.frstclick.p&&(e.field[i][s].t=="R"||e.field[i][s].t=="Q")&&(f=0);break}for(let i=l+1;i<8;i++){e.field[i][s].t!="&nbsp;"&&e.field[i][s].p!=e.frstclick.p&&(e.field[i][s].t=="R"||e.field[i][s].t=="Q")&&(f=0);break}for(let i=s-1;i>-1;i--)if(e.field[l][i].t!="&nbsp;"){e.field[l][i].p!=e.frstclick.p&&(e.field[l][i].t=="R"||e.field[l][i].t=="Q")&&(f=0);break}for(let i=s+1;i<8;i++)if(e.field[l][i].t!="&nbsp;"){e.field[l][i].p!=e.frstclick.p&&(e.field[l][i].t=="R"||e.field[l][i].t=="Q")&&(f=0);break}for(let i=1;i<9;i++)if(l-i>-1&&s-i>-1&&e.field[l-i][s-i].t!="&nbsp;"){e.field[l-i][s-i].p!=e.frstclick.p&&(e.field[l-i][s-i].t=="B"||e.field[l-i][s-i].t=="Q")&&(f=0);break}for(let i=1;i<9;i++)if(l-i>-1&&s+i<8&&e.field[l-i][s+i].t!="&nbsp;"){e.field[l-i][s+i].p!=e.frstclick.p&&(e.field[l-i][s+i].t=="B"||e.field[l-i][s+i].t=="Q")&&(f=0);break}for(let i=1;i<9;i++)if(l+i<8&&s-i>-1&&e.field[l+i][s-i].t!="&nbsp;"){e.field[l+i][s-i].p!=e.frstclick.p&&(e.field[l+i][s-i].t=="B"||e.field[l+i][s-i].t=="Q")&&(f=0);break}for(let i=1;i<9;i++)if(l+i<8&&s+i<8&&e.field[l+i][s+i].t!="&nbsp;"){e.field[l+i][s+i].p!=e.frstclick.p&&(e.field[l+i][s+i].t=="B"||e.field[l+i][s+i].t=="Q")&&(f=0);break}for(let i=0;i<8;i++)e.horseturns[i][0]+l<8&&e.horseturns[i][1]+s<8&&e.horseturns[i][0]+l>-1&&e.horseturns[i][1]+s>-1&&e.field[l+e.horseturns[i][0]][s+e.horseturns[i][1]].t=="H"&&e.field[l+e.horseturns[i][0]][s+e.horseturns[i][1]].p!=e.frstclick.p&&(f=0);e.frstclick.p=="-1"?(l+1<8&&s+1<8&&e.field[l+1][s+1].t=="P"&&e.field[l+1][s+1].p=="1"&&(f=0),l+1<8&&s-1>-1&&e.field[l+1][s-1].t=="P"&&e.field[l+1][s-1].p=="1"&&(f=0)):(l-1>-1&&s+1<8&&e.field[l-1][s+1].t=="P"&&e.field[l-1][s+1].p=="-1"&&(f=0),l-1>-1&&s-1>-1&&e.field[l-1][s-1].t=="P"&&e.field[l-1][s-1].p=="-1"&&(f=0));for(let i=-1;i<2;i++)for(let d=-1;d<2;d++)l+i<8&&l+i>-1&&s+d<8&&s+d>-1&&e.field[l+i][s+d].t=="K"&&e.field[l+i][s+d].p!=e.frstclick.p&&(f=0);return e.field[e.frstclick.x][e.frstclick.y].t="K",f==1}function o(e,l,s){for(let f=-1;f<2;f++)for(let i=-1;i<2;i++)l+f<8&&l+f>-1&&s+i<8&&s+i>-1&&t(e,l+f,s+i)&&(e.field[l+f][s+i].t=="&nbsp;"?e.field[l+f][s+i].h=1:e.field[l+f][s+i].p!=e.frstclick.p&&t(e,l+f,s+i)&&(e.field[l+f][s+i].h=3))}function b(e,l,s){for(let f=l-1;f>-1;f--)if(e.field[f][s].t=="&nbsp;")e.field[f][s].h=1;else if(e.field[f][s].t!="&nbsp;"){e.field[f][s].p!=e.frstclick.p&&(e.field[f][s].h=3);break}for(let f=l+1;f<8;f++)if(e.field[f][s].t=="&nbsp;")e.field[f][s].h=1;else if(e.field[f][s].t!="&nbsp;"){e.field[f][s].p!=e.frstclick.p&&(e.field[f][s].h=3);break}for(let f=s-1;f>-1;f--)if(e.field[l][f].t=="&nbsp;")e.field[l][f].h=1;else if(e.field[l][f].t!="&nbsp;"){e.field[l][f].p!=e.frstclick.p&&(e.field[l][f].h=3);break}for(let f=s+1;f<8;f++)if(e.field[l][f].t=="&nbsp;")e.field[l][f].h=1;else if(e.field[l][f].t!="&nbsp;"){e.field[l][f].p!=e.frstclick.p&&(e.field[l][f].h=3);break}}function k(e,l,s){l-1>-1&&e.field[l-1][s].t=="&nbsp;"&&(e.field[l-1][s].h=1),l-1>-1&&s-1>-1&&e.field[l-1][s-1].t!="&nbsp;"&&e.field[l-1][s-1].p!=e.frstclick.p&&(e.field[l-1][s-1].h=3),l-1>-1&&s+1<8&&e.field[l-1][s+1].t!="&nbsp;"&&e.field[l-1][s+1].p!=e.frstclick.p&&(e.field[l-1][s+1].h=3),l==6&&e.field[l-1][s].t=="&nbsp;"&&e.field[l-2][s].t=="&nbsp;"&&(e.field[l-2][s].h=1)}function u(e,l,s){l+1<8&&e.field[l+1][s].t=="&nbsp;"&&(e.field[l+1][s].h=1),l+1<8&&s+1<8&&e.field[l+1][s+1].t!="&nbsp;"&&e.field[l+1][s+1].p!=e.frstclick.p&&(e.field[l+1][s+1].h=3),l+1<8&&s-1>-1&&e.field[l+1][s-1].t!="&nbsp;"&&e.field[l+1][s-1].p!=e.frstclick.p&&(e.field[l+1][s-1].h=3),l==1&&e.field[l+1][s].t=="&nbsp;"&&e.field[l+2][s].t=="&nbsp;"&&(e.field[l+2][s].h=1)}function a(e,l,s){for(let f=0;f<8;f++)if(l-f-1>-1&&s-f-1>-1){if(e.field[l-f-1][s-f-1].t=="&nbsp;")e.field[l-f-1][s-f-1].h=1;else if(e.field[l-f-1][s-f-1]!="&nbsp;"){e.field[l-f-1][s-f-1].p!=e.frstclick.p&&(e.field[l-f-1][s-f-1].h=3);break}}for(let f=0;f<8;f++)if(l+f+1<8&&s-f-1>-1){if(e.field[l+f+1][s-f-1].t=="&nbsp;")e.field[l+f+1][s-f-1].h=1;else if(e.field[l+f+1][s-f-1]!="&nbsp;"){e.field[l+f+1][s-f-1].p!=e.frstclick.p&&(e.field[l+f+1][s-f-1].h=3);break}}for(let f=0;f<8;f++)if(l+f+1<8&&s+f+1<8){if(e.field[l+f+1][s+f+1].t=="&nbsp;")e.field[l+f+1][s+f+1].h=1;else if(e.field[l+f+1][s+f+1]!="&nbsp;"){e.field[l+f+1][s+f+1].p!=e.frstclick.p&&(e.field[l+f+1][s+f+1].h=3);break}}for(let f=0;f<8;f++)if(l-f-1>-1&&s+f+1<8){if(e.field[l-f-1][s+f+1].t=="&nbsp;")e.field[l-f-1][s+f+1].h=1;else if(e.field[l-f-1][s+f+1]!="&nbsp;"){e.field[l-f-1][s+f+1].p!=e.frstclick.p&&(e.field[l-f-1][s+f+1].h=3);break}}}function m(e,l,s){for(let f=0;f<8;f++)e.horseturns[f][0]+l<8&&e.horseturns[f][1]+s<8&&e.horseturns[f][0]+l>-1&&e.horseturns[f][1]+s>-1&&(e.field[l+e.horseturns[f][0]][s+e.horseturns[f][1]].t=="&nbsp;"?e.field[l+e.horseturns[f][0]][s+e.horseturns[f][1]].h=1:e.field[l+e.horseturns[f][0]][s+e.horseturns[f][1]].p!=e.frstclick.p&&(e.field[l+e.horseturns[f][0]][s+e.horseturns[f][1]].h=3))}function g(e,l,s){for(let f=0;f<8;f++)if(l-f-1>-1&&s-f-1>-1){if(e.field[l-f-1][s-f-1].t=="&nbsp;")e.field[l-f-1][s-f-1].h=1;else if(e.field[l-f-1][s-f-1]!="&nbsp;"){e.field[l-f-1][s-f-1].p!=e.frstclick.p&&(e.field[l-f-1][s-f-1].h=3);break}}for(let f=0;f<8;f++)if(l+f+1<8&&s-f-1>-1){if(e.field[l+f+1][s-f-1].t=="&nbsp;")e.field[l+f+1][s-f-1].h=1;else if(e.field[l+f+1][s-f-1]!="&nbsp;"){e.field[l+f+1][s-f-1].p!=e.frstclick.p&&(e.field[l+f+1][s-f-1].h=3);break}}for(let f=0;f<8;f++)if(l+f+1<8&&s+f+1<8){if(e.field[l+f+1][s+f+1].t=="&nbsp;")e.field[l+f+1][s+f+1].h=1;else if(e.field[l+f+1][s+f+1]!="&nbsp;"){e.field[l+f+1][s+f+1].p!=e.frstclick.p&&(e.field[l+f+1][s+f+1].h=3);break}}for(let f=0;f<8;f++)if(l-f-1>-1&&s+f+1<8){if(e.field[l-f-1][s+f+1].t=="&nbsp;")e.field[l-f-1][s+f+1].h=1;else if(e.field[l-f-1][s+f+1]!="&nbsp;"){e.field[l-f-1][s+f+1].p!=e.frstclick.p&&(e.field[l-f-1][s+f+1].h=3);break}}for(let f=l-1;f>-1;f--)if(e.field[f][s].t=="&nbsp;")e.field[f][s].h=1;else if(e.field[f][s].t!="&nbsp;"){e.field[f][s].p!=e.frstclick.p&&(e.field[f][s].h=3);break}for(let f=l+1;f<8;f++)if(e.field[f][s].t=="&nbsp;")e.field[f][s].h=1;else if(e.field[f][s].t!="&nbsp;"){e.field[f][s].p!=e.frstclick.p&&(e.field[f][s].h=3);break}for(let f=s-1;f>-1;f--)if(e.field[l][f].t=="&nbsp;")e.field[l][f].h=1;else if(e.field[l][f].t!="&nbsp;"){e.field[l][f].p!=e.frstclick.p&&(e.field[l][f].h=3);break}for(let f=s+1;f<8;f++)if(e.field[l][f].t=="&nbsp;")e.field[l][f].h=1;else if(e.field[l][f].t!="&nbsp;"){e.field[l][f].p!=e.frstclick.p&&(e.field[l][f].h=3);break}}function P(e,l,s){if(e.field[l][s].p===1){if(e.field[l][s].t==="K")return'<img src="Wking.png">';if(e.field[l][s].t==="R")return'<img src="Wrook.png">';if(e.field[l][s].t==="B")return'<img src="Wbishop.png">';if(e.field[l][s].t==="H")return'<img src="Whorse.png">';if(e.field[l][s].t==="P")return'<img src="Wpawn.png">';if(e.field[l][s].t==="Q")return'<img src="Wqueen.png">'}else if(e.field[l][s].p===-1){if(e.field[l][s].t==="K")return'<img src="Bking.png">';if(e.field[l][s].t==="R")return'<img src="Brook.png">';if(e.field[l][s].t==="B")return'<img src="Bbishop.png">';if(e.field[l][s].t==="H")return'<img src="Bhorse.png">';if(e.field[l][s].t==="P")return'<img src="Bpawn.png">';if(e.field[l][s].t==="Q")return'<img src="Bqueen.png">'}else return"&nbsp;"}const p=document.createElement("table");p.cellPadding=0;p.cellSpacing=0;const r={turn:1,field:[[{p:-1,t:"R",h:0,m:0},{p:-1,t:"H",h:0},{p:-1,t:"B",h:0},{p:-1,t:"Q",h:0},{p:-1,t:"K",h:0,m:0},{p:-1,t:"B",h:0},{p:-1,t:"H",h:0},{p:-1,t:"R",h:0,m:0}],[{p:-1,t:"P",h:0},{p:-1,t:"P",h:0},{p:-1,t:"P",h:0},{p:-1,t:"P",h:0},{p:-1,t:"P",h:0},{p:-1,t:"P",h:0},{p:-1,t:"P",h:0},{p:-1,t:"P",h:0}],[{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0}],[{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0}],[{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0}],[{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0},{t:"&nbsp;",h:0}],[{p:1,t:"P",h:0},{p:1,t:"P",h:0},{p:1,t:"P",h:0},{p:1,t:"P",h:0},{p:1,t:"P",h:0},{p:1,t:"P",h:0},{p:1,t:"P",h:0},{p:1,t:"P",h:0}],[{p:1,t:"R",h:0,m:0},{p:1,t:"H",h:0},{p:1,t:"B",h:0},{p:1,t:"Q",h:0},{p:1,t:"K",h:0,m:0},{p:1,t:"B",h:0},{p:1,t:"H",h:0},{p:1,t:"R",h:0,m:0}]],frstclick:{x:-1,y:-1,t:0,p:0},horseturns:[[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]]};function h(){for(let e=0;e<8;e++){const l=document.createElement("tr");for(let s=0;s<8;s++){const f=document.createElement("td");e%2!=s%2&&r.field[e][s].h==0?f.classList.add("black"):e%2!=s%2&&r.field[e][s].h==1&&f.classList.add("hoveredblack"),e%2==s%2&&r.field[e][s].h==1&&f.classList.add("hoveredwhite"),r.field[e][s].h==2&&f.classList.add("clicked"),r.field[e][s].h==3&&f.classList.add("attack"),r.field[e][s].h==4&&f.classList.add("castles"),f.innerHTML=P(r,e,s),r.field[e][s].p==1&&f.classList.add("playerWhite"),r.field[e][s].p==-1&&f.classList.add("playerBlack"),f.onclick=()=>{y(e,s)},l.appendChild(f)}p.appendChild(l)}document.body.appendChild(p)}function y(e,l){r.frstclick.t==0&&r.field[e][l].t!="&nbsp;"&&r.field[e][l].p==r.turn?(r.frstclick={x:e,y:l,t:r.field[e][l].t,p:r.field[e][l].p,m:r.field[e][l].m},r.field[e][l].h=2,r.field[e][l].t=="K"?o(r,e,l):r.field[e][l].t=="Q"?g(r,e,l):r.field[e][l].t=="R"?b(r,e,l):r.field[e][l].t=="B"?a(r,e,l):r.field[e][l].t=="P"&&r.field[e][l].p=="1"?k(r,e,l):r.field[e][l].t=="P"&&r.field[e][l].p=="-1"?u(r,e,l):r.field[e][l].t=="H"&&m(r,e,l)):B(e,l),p.innerHTML="",h()}function B(e,l){if(r.frstclick.m===0&&(r.field[r.frstclick.x][r.frstclick.y].m=1),r.field[e][l].h==1||r.field[e][l].h==3)r.field[e][l]=r.field[r.frstclick.x][r.frstclick.y],r.field[r.frstclick.x][r.frstclick.y]={t:"&nbsp;"},r.turn=r.turn*-1;else if(r.field[e][l].h==4)r.field[7][6]={p:1,t:"K",h:0},r.field[7][5]={p:1,t:"R",h:0},r.field[7][4]={t:"&nbsp;",h:0},r.field[7][7]={t:"&nbsp;",h:0};else for(let s=0;s<8;s++)for(let f=0;f<8;f++)r.field[s][f].h=0;r.frstclick={x:-1,y:-1,t:0,p:0};for(let s=0;s<8;s++)for(let f=0;f<8;f++)r.field[s][f].h=0}h();
