(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerpolicy&&(l.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?l.credentials="include":n.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=t(n);fetch(n.href,l)}})();function f(i,e,t){if(i.field[e][t].p===1){if(i.field[e][t].t==="K")return'<img src="/pic/Wking.png">';if(i.field[e][t].t==="R")return'<img src="/pic/Wrook.png">';if(i.field[e][t].t==="B")return'<img src="/pic/Wbishop.png">';if(i.field[e][t].t==="H")return'<img src="/pic/Whorse.png">';if(i.field[e][t].t==="P")return'<img src="/pic/Wpawn.png">';if(i.field[e][t].t==="Q")return'<img src="/pic/Wqueen.png">'}else if(i.field[e][t].p===-1){if(i.field[e][t].t==="K")return'<img src="/pic/Bking.png">';if(i.field[e][t].t==="R")return'<img src="/pic/Brook.png">';if(i.field[e][t].t==="B")return'<img src="/pic/Bbishop.png">';if(i.field[e][t].t==="H")return'<img src="/pic/Bhorse.png">';if(i.field[e][t].t==="P")return'<img src="/pic/Bpawn.png">';if(i.field[e][t].t==="Q")return'<img src="/pic/Bqueen.png">'}else return"&nbsp;"}const d=document.createElement("table");d.cellPadding=0;d.cellSpacing=0;const s="https://5307-110-139-186-101.ngrok.io";function p(){fetch(`${s}/start`,{method:"GET"}).then(i=>i.json()).then(i=>{c(i)})}p();function c(i){for(let e=0;e<8;e++){const t=document.createElement("tr");for(let r=0;r<8;r++){const n=document.createElement("td");e%2!=r%2&&i.field[e][r].h==0?n.classList.add("black"):e%2!=r%2&&i.field[e][r].h==1&&n.classList.add("hoveredblack"),e%2==r%2&&i.field[e][r].h==1&&n.classList.add("hoveredwhite"),i.field[e][r].h==2&&n.classList.add("clicked"),i.field[e][r].h==3&&n.classList.add("attack"),i.field[e][r].h==4&&n.classList.add("castles"),n.innerHTML=f(i,e,r),i.field[e][r].p==1&&n.classList.add("playerWhite"),i.field[e][r].p==-1&&n.classList.add("playerBlack"),n.onclick=()=>{u(e,r)},t.appendChild(n)}d.appendChild(t)}document.body.appendChild(d),window.innerWidth>=window.innerHeight?(d.style.width=document.documentElement.clientHeight,d.style.height=document.documentElement.clientHeight):window.innerHeight>window.innerWidth&&(d.style.width=document.documentElement.clientWidth,d.style.height=document.documentElement.clientWidth)}function u(i,e){fetch(`${s}/action`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({i,j:e})}).then(t=>t.json()).then(t=>{d.innerHTML="",c(t)})}
